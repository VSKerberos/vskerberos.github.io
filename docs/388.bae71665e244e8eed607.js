"use strict";(self.webpackChunkcost_calculator=self.webpackChunkcost_calculator||[]).push([[388],{2388:(Re,b,h)=>{h.r(b),h.d(b,{MaterialModule:()=>ye,customCurrencyMaskConfig:()=>O});var w=h(8583),N=h(5987),B=h(8369),e=h(7716),P=h(7574),L=h(1295),_=h(2238);function F(){const n=new _.vA;return n.disableClose=!0,n.autoFocus=!0,n.width="1000px",n}var u=h(3679),S=h(3131),E=h(5618),R=h(3738),I=h(8295),q=h(9983);function Y(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.error," ")}}function z(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("L\xfctfen en az ",t.minlength," karakter giriniz")}}function H(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("L\xfctfen en fazla ",t.maxlength," karakter giriniz")}}let J=(()=>{class n{constructor(t){this.ngControl=t,this.type="text",this.ngControl.valueAccessor=this}writeValue(t){}registerOnChange(t){}registerOnTouched(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.a5,2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",error:"error",minlength:"minlength",maxlength:"maxlength"},decls:5,vars:8,consts:[["matInput","",3,"placeholder","formControl","type"],[4,"ngIf"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-form-field"),e._UZ(1,"input",0),e.YNc(2,Y,2,1,"mat-error",1),e.YNc(3,z,2,1,"mat-error",1),e.YNc(4,H,2,1,"mat-error",1),e.qZA()),2&t&&(e.xp6(1),e.ekj("is-invalid",a.ngControl.touched&&a.ngControl.invalid),e.s9C("placeholder",a.label),e.s9C("type",a.type),e.Q6J("formControl",a.ngControl.control),e.xp6(1),e.Q6J("ngIf",null==a.ngControl.errors?null:a.ngControl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.ngControl.errors?null:a.ngControl.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.ngControl.errors?null:a.ngControl.errors.maxlength))},directives:[I.KE,q.Nt,u.Fj,u.JJ,u.oH,w.O5,I.TO],styles:["mat-form-field.mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:16px}"]}),n})();var V=h(1095);let k=(()=>{class n{constructor(t,a,l,r){this.firebaseService=t,this.fb=a,this.dialogRef=r,this.dialogTitle=l.dialogTitle,this.material=l.material,this.mode=l.mode,this.recordId=l.recordId,"update"==this.mode?(this.reactiveForm(),this.materialForm.patchValue({name:l.material.payload.doc.data().name}),this.materialForm.patchValue({unit:l.material.payload.doc.data().unit}),this.materialForm.patchValue({weight:l.material.payload.doc.data().weight}),this.materialForm.patchValue({price:l.material.payload.doc.data().price}),this.materialForm.patchValue({remarks:l.material.payload.doc.data().remarks}),this.materialForm.patchValue({dimension:l.material.payload.doc.data().dimension})):(this.mode="create")&&this.reactiveForm()}ngOnInit(){}reactiveForm(){this.materialForm=this.fb.group({name:["",[u.kI.required,u.kI.minLength(3),u.kI.maxLength(50)]],unit:["",u.kI.required],weight:["",u.kI.required],price:["",u.kI.required],remarks:["",u.kI.required],dimension:["",u.kI.required]})}submitForm(){if(console.log(this.materialForm.value),"create"==this.mode)this.firebaseService.addMaterial(this.materialForm.value).catch(a=>{console.log(a)});else if("update"==this.mode){var t=this.materialForm.value;console.log(new Intl.NumberFormat("de-DE",{style:"currency",currency:"TRY"}).format(t)),this.firebaseService.updateMaterial(this.materialForm.value,this.recordId).catch(a=>{console.log(a)})}this.materialForm.reset(),this.materialForm.markAsPristine(),this.materialForm.markAsUntouched(),this.dialogRef.close([])}cancel(){this.materialForm.reset(),this.materialForm.markAsPristine(),this.materialForm.markAsUntouched()}onClose(){this.materialForm.reset(),this.dialogRef.close([])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.D),e.Y36(u.qu),e.Y36(_.WI),e.Y36(_.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-material-entry"]],decls:35,vars:28,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"row"],[3,"formControl","label","error","minlength","maxlength"],[3,"formControl","label","error","maxlength"],[3,"formControl","label","error","maxlength","type"],[3,"formControl","label","error"],["color","primary","mat-raised-button","",3,"disabled"],["color","secondary","mat-raised-button","",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return a.materialForm.valid&&a.submitForm()}),e.TgZ(4,"mat-card"),e.TgZ(5,"mat-card-header"),e.TgZ(6,"mat-card-title"),e.TgZ(7,"h2",3),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"mat-card-content"),e.TgZ(10,"div",4),e.TgZ(11,"div"),e._UZ(12,"app-text-input",5),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"div"),e._UZ(15,"app-text-input",6),e.qZA(),e.qZA(),e.TgZ(16,"div",4),e.TgZ(17,"div"),e._UZ(18,"app-text-input",6),e.qZA(),e.qZA(),e.TgZ(19,"div",4),e.TgZ(20,"div"),e._UZ(21,"app-text-input",6),e.qZA(),e.qZA(),e.TgZ(22,"div",4),e.TgZ(23,"div"),e._UZ(24,"app-text-input",7),e.qZA(),e.qZA(),e.TgZ(25,"div",4),e.TgZ(26,"div"),e._UZ(27,"app-text-input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"mat-card-actions"),e.TgZ(29,"button",9),e._uU(30," Kaydet "),e.qZA(),e.TgZ(31,"button",10),e.NdJ("click",function(){return a.cancel()}),e._uU(32," Temizle "),e.qZA(),e.TgZ(33,"button",10),e.NdJ("click",function(){return a.onClose()}),e._uU(34," Kapat "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.materialForm),e.xp6(5),e.Oqu(a.dialogTitle),e.xp6(4),e.Q6J("formControl",a.materialForm.controls.name)("label","malzeme ad\u0131")("error","L\xfctfen malzeme ad\u0131 giriniz")("minlength","3")("maxlength","40"),e.xp6(3),e.Q6J("formControl",a.materialForm.controls.unit)("label","birimi")("error","L\xfctfen birimi giriniz")("maxlength","40"),e.xp6(3),e.Q6J("formControl",a.materialForm.controls.dimension)("label","\xf6l\xe7\xfc")("error","L\xfctfen \xf6l\xe7\xfcs\xfcn\xfc giriniz")("maxlength","40"),e.xp6(3),e.Q6J("formControl",a.materialForm.controls.weight)("label","a\u011f\u0131rl\u0131k")("error","L\xfctfen a\u011f\u0131rl\u0131k giriniz")("maxlength","40"),e.xp6(3),e.Q6J("formControl",a.materialForm.controls.price)("label","fiyat")("error","L\xfctfen fiyat giriniz")("maxlength","40")("type","tel"),e.xp6(3),e.Q6J("formControl",a.materialForm.controls.remarks)("label","a\xe7\u0131klama")("error","L\xfctfen a\xe7\u0131klama giriniz"),e.xp6(2),e.Q6J("disabled",!a.materialForm.valid))},directives:[_.xY,E.xw,E.Wh,E.yH,u._Y,u.JL,u.sg,R.a8,R.dk,R.n5,_.uh,R.dn,J,u.JJ,u.oH,u.wO,u.nD,R.hq,V.lW],encapsulation:2}),n})();var Q=h(3066),j=h(1552),f=h(2789);function G(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," Ad\u0131 "),e.qZA())}function K(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.payload.doc.data().name," ")}}function $(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," Birimi "),e.qZA())}function X(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.payload.doc.data().unit," ")}}function W(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," A\u011f\u0131rl\u0131k "),e.qZA())}function ee(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.payload.doc.data().weight," ")}}function te(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," \xd6l\xe7\xfcs\xfc "),e.qZA())}function ie(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.payload.doc.data().dimension," ")}}function ne(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," Fiyat "),e.qZA())}function ae(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.payload.doc.data().price," ","\u20ba"," ")}}function le(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," A\xe7\u0131klama "),e.qZA())}function re(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.payload.doc.data().remarks," ")}}function oe(n,i){1&n&&(e.TgZ(0,"th",19),e._uU(1," \u0130\u015flem B\xf6l\xfcm\xfc"),e.qZA())}function se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"md-cell"),e.TgZ(1,"button",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editMaterial(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"build"),e.qZA(),e._uU(4," G\xfcncelle"),e.qZA(),e._uU(5," \xa0 "),e.TgZ(6,"button",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteRecord(r.payload.doc.id)}),e.TgZ(7,"mat-icon"),e._uU(8,"delete_outline"),e.qZA(),e._uU(9," Sil"),e.qZA(),e.qZA()}}function ue(n,i){1&n&&e._UZ(0,"tr",23)}function he(n,i){1&n&&e._UZ(0,"tr",24)}const me=[{path:"",component:B.$,children:[{path:"",component:(()=>{class n{constructor(t,a,l){this.firebaseService=t,this.spinnerService=a,this.dialog=l,this.displayedColumns=["demo-name","demo-unit","demo-weight","demo-dimension","demo-symbol","demo-remarks","demo-actions"],this.lessonListSubject=new P.y,this.courseChanged=new e.vpe,this.getMaterials=()=>{this.spinnerService.display(!0),this.firebaseService.getMaterials().subscribe(r=>(this.materialList=this.dataSource=r,console.log(r),this.spinnerService.display(!1),(0,L.d)()))}}ngOnInit(){this.getMaterials()}deleteRecord(t){console.log("Deleted recor is: "+t),this.firebaseService.deleteMaterial(t)}editMaterial(t){const a=F();a.data={dialogTitle:"Malzeme G\xfcncelleme",material:t,mode:"update",recordId:t.payload.doc.id},this.dialog.open(k,a).afterClosed().subscribe(()=>this.courseChanged.emit()),console.log(new Intl.NumberFormat("de-DE",{style:"currency",currency:"TRY"}).format(1434.02))}addMaterial(){const t=F();t.data={dialogTitle:"Malzeme Ekleme",mode:"create"},this.dialog.open(k,t).afterClosed().subscribe(()=>this.courseChanged.emit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.D),e.Y36(Q.V),e.Y36(_.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-material"]],outputs:{courseChanged:"courseChanged"},decls:33,vars:3,consts:[[1,"container"],["fxLayoutAlign","center center",1,"mat-display-3","special-header"],[1,"demo-button-container","space-left"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],[1,"space"],["fxLayout","row","fxLayoutAlign","center none",1,"container","space"],["mat-table","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["matColumnDef","demo-name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","demo-unit"],["matColumnDef","demo-weight"],["matColumnDef","demo-dimension"],["matColumnDef","demo-symbol"],["matColumnDef","demo-remarks"],["matColumnDef","demo-actions"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2," Malzeme Listesi "),e.qZA(),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.addMaterial()}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"table",6),e.ynx(10,7),e.YNc(11,G,2,0,"th",8),e.YNc(12,K,2,1,"td",9),e.BQk(),e.ynx(13,10),e.YNc(14,$,2,0,"th",8),e.YNc(15,X,2,1,"td",9),e.BQk(),e.ynx(16,11),e.YNc(17,W,2,0,"th",8),e.YNc(18,ee,2,1,"td",9),e.BQk(),e.ynx(19,12),e.YNc(20,te,2,0,"th",8),e.YNc(21,ie,2,1,"td",9),e.BQk(),e.ynx(22,13),e.YNc(23,ne,2,0,"th",8),e.YNc(24,ae,2,2,"td",9),e.BQk(),e.ynx(25,14),e.YNc(26,le,2,0,"th",8),e.YNc(27,re,2,1,"td",9),e.BQk(),e.ynx(28,15),e.YNc(29,oe,2,0,"th",8),e.YNc(30,se,10,0,"md-cell",16),e.BQk(),e.YNc(31,ue,1,0,"tr",17),e.YNc(32,he,1,0,"tr",18),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("dataSource",a.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns))},directives:[E.Wh,V.lW,j.Hw,E.xw,f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,f.ev,f.XQ,f.Gk],styles:['.demo-table[_ngcontent-%COMP%]{width:100%}.mat-column-demo-position[_ngcontent-%COMP%]{border-right:1px solid currentColor;padding-right:24px;text-align:center}.mat-column-demo-name[_ngcontent-%COMP%]{padding-left:16px;font-size:large}.mat-column-demo-unit[_ngcontent-%COMP%]{font-size:large}th.mat-column-demo-dimension[_ngcontent-%COMP%]{font-size:20px}td.mat-column-demo-dimension[_ngcontent-%COMP%]{font-size:20px}th.mat-column-demo-weight[_ngcontent-%COMP%]{font-size:20px}td.mat-column-demo-weight[_ngcontent-%COMP%]{font-size:20px}th.mat-column-demo-symbol[_ngcontent-%COMP%]{font-size:20px}td.mat-column-demo-symbol[_ngcontent-%COMP%]{font-size:20px}th.mat-column-demo-remarks[_ngcontent-%COMP%]{font-size:20px}td.mat-column-demo-remarks[_ngcontent-%COMP%]{font-size:20px}.mat-column-demo-symbol[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{text-align:center;font-weight:bold;font-size:24px}.special-header[_ngcontent-%COMP%]{margin:1em 0 .5em;color:#343434;font-weight:normal;font-family:"Ultra",sans-serif;font-size:36px;line-height:42px;text-transform:uppercase;text-shadow:0 2px white,0 3px #777}.space[_ngcontent-%COMP%]{margin:20px}.space-left[_ngcontent-%COMP%]{margin-left:10px}']}),n})()}]}];let de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[N.Bz.forChild(me)],N.Bz]}),n})();var pe=h(4438),C=(()=>{return(n=C||(C={}))[n.FINANCIAL=0]="FINANCIAL",n[n.NATURAL=1]="NATURAL",C;var n})();let U=new e.OlP("currency.mask.config");class ge{constructor(i){this.htmlInputElement=i}setCursorAt(i){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(i,i);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",i),t.select()}}updateValueAndCursor(i,t,a){this.rawValue=i,this.setCursorAt(a-=t-i.length)}get canInputMoreNumbers(){let t=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),a=this.inputSelection.selectionStart,l=this.inputSelection.selectionEnd,r=!(a==l||!this.htmlInputElement.value.substring(a,l).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),o="0"==this.htmlInputElement.value.substring(0,1);return t||r||o}get inputSelection(){let i=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)i=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let a=document.selection.createRange();if(a&&a.parentElement()==this.htmlInputElement){let l=this.htmlInputElement.value.length,r=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange();o.moveToBookmark(a.getBookmark());let s=this.htmlInputElement.createTextRange();s.collapse(!1),o.compareEndPoints("StartToEnd",s)>-1?i=t=l:(i=-o.moveStart("character",-l),i+=r.slice(0,i).split("\n").length-1,o.compareEndPoints("EndToEnd",s)>-1?t=l:(t=-o.moveEnd("character",-l),t+=r.slice(0,t).split("\n").length-1))}}return{selectionStart:i,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(i){this._storedRawValue=i,this.htmlInputElement&&(this.htmlInputElement.value=i)}get storedRawValue(){return this._storedRawValue||""}}class fe{constructor(i,t){this.htmlInputElement=i,this.options=t,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new ge(i),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(i){const{decimal:t,precision:a,inputMode:l}=this.options;let r=String.fromCharCode(i);const o=r===this.options.decimal;if(this.rawValue){let s=this.inputSelection.selectionStart,c=this.inputSelection.selectionEnd;const v=this.rawValue.substring(0,s);let m=this.rawValue.substring(c,this.rawValue.length);const d=-1!==v.indexOf(t);l===C.NATURAL&&d&&s===c&&(m=m.substring(1));const M=v+r+m;let g=s+1;if(!o&&r!==this.options.thousands||r!==m[0]){if(!this.SINGLE_DIGIT_REGEX.test(r))return}else g++;this.rawValue=M,this.updateFieldValue(g)}else{let s;this.rawValue=this.applyMask(!1,r),l===C.NATURAL&&a>0&&(s=this.rawValue.indexOf(t),o&&s++),this.updateFieldValue(s)}}applyMask(i,t,a=!1){let{allowNegative:l,decimal:r,precision:o,prefix:s,suffix:c,thousands:v,min:m,max:d,inputMode:M}=this.options,g=(t=i?new Number(t).toFixed(o):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!g&&t!==r)return"";M===C.NATURAL&&!i&&!a&&(g=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));let p=g.slice(0,g.length-o).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==p&&(p="0");let T=parseInt(p);p=p.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,v),v&&p.startsWith(v)&&(p=p.substring(1));let A=p,y=g.slice(g.length-o),Z=parseInt(y)||0,D=t.indexOf("-")>-1;d=this.isNullOrUndefined(d)||this.isNullOrUndefined(m)?d:Math.max(d,m);let x=T+Z/Number("1".padEnd(o+1,"0"));return x=D?-x:x,!this.isNullOrUndefined(d)&&x>d?this.applyMask(!0,d+""):!this.isNullOrUndefined(m)&&x<m?this.applyMask(!0,m+""):(o>0&&(A+="0"==A&&y.length<o?r+"0".repeat(o-1)+y:r+y),(D&&l&&0!=x?"-":"")+s+A+c)}padOrTrimPrecision(i){let{decimal:t,precision:a}=this.options,l=i.lastIndexOf(t);-1===l&&(l=i.length,i+=t);let r=i.substring(l).replace(this.ONLY_NUMBERS_REGEX,"");const o=r.length;if(o<a)for(let s=o;s<a;s++)r+="0";else o>a&&(r=r.substring(0,r.length+a-o));return i.substring(0,l)+t+r}clearMask(i){if(this.isNullable()&&""===i)return null;let t=(i||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((a,l)=>{const r=new RegExp(l,"g");t=t.replace(r,a)}),parseFloat(t)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(i){let{decimal:t,thousands:a,prefix:l,suffix:r,inputMode:o}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let s=this.inputSelection.selectionEnd,c=this.inputSelection.selectionStart;const v=this.rawValue.length-r.length;if(s=Math.min(v,Math.max(s,l.length)),c=Math.min(v,Math.max(c,l.length)),c===s&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(c);let m=this.rawValue.indexOf(t);-1===m&&(m=this.rawValue.length);let d=0,M="";const g=m<s,p=m+1===s;if(s===c)if(8==i){if(c<=l.length)return;c--,this.rawValue.substr(c,1).match(/\d/)||c--,o===C.NATURAL&&g&&(d=-1,p&&this.value<10&&this.value>-10&&(M+="0"))}else if(46==i||63272==i){if(c===v)return;s++,this.rawValue.substr(c,1).match(/\d/)||(c++,s++)}if(o===C.NATURAL&&c>m){const y=s-c;for(let Z=0;Z<y;Z++)M+="0"}let T=this.rawValue.length-s;this.rawValue=this.rawValue.substring(0,c)+M+this.rawValue.substring(s),this.rawValue.substr(l.length,1)===a&&(this.rawValue=this.rawValue.substring(0,l.length)+this.rawValue.substring(l.length+1),T=Math.min(T,this.rawValue.length-l.length)),this.updateFieldValue(this.rawValue.length-T+d,!0)}updateFieldValue(i,t=!1){let a=this.applyMask(!1,this.rawValue||"",t);i=null==i?this.rawValue.length:i,i=Math.max(this.options.prefix.length,Math.min(i,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(a,this.rawValue.length,i)}updateOptions(i){let t=this.value;this.options=i,this.value=t}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(i){this.inputManager.rawValue=i}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(i){this.rawValue=this.applyMask(!0,""+i)}isNullOrUndefined(i){return null==i}}class Ce{constructor(i,t){this.inputService=new fe(i,t)}handleCut(i){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(i){let t=this.inputService.inputSelection.selectionStart,a=this.inputService.rawValue.charCodeAt(t-1),l=this.inputService.rawValue.length,r=this.inputService.storedRawValue.length;if(1!=Math.abs(l-r))return this.inputService.updateFieldValue(t),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,l<r&&this.timer(()=>{this.inputService.updateFieldValue(t+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),l>r&&(this.inputService.updateFieldValue(t-1),this.handleKeypressImpl(a))}handleKeydown(i){let t=i.which||i.charCode||i.keyCode;(8==t||46==t||63272==t)&&(i.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(i){let t=i.which||i.charCode||i.keyCode;i.preventDefault(),(97!==t||!i.ctrlKey)&&this.handleKeypressImpl(t)}handleKeypressImpl(i){switch(i){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(i))}this.onModelChange(this.inputService.value)}handlePaste(i){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(i){this.inputService.updateOptions(i)}getOnModelChange(){return this.onModelChange}setOnModelChange(i){this.onModelChange=i}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(i){this.onModelTouched=i}setValue(i){this.inputService.value=i}timer(i,t){setTimeout(i,t)}}const ve={provide:u.JU,useExisting:(0,e.Gpc)(()=>Me),multi:!0};let Me=(()=>{class n{constructor(t,a,l){this.currencyMaskConfig=t,this.elementRef=a,this.keyValueDiffers=l,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:C.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=l.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new Ce(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleCut(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(t)}handlePaste(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(t)}handleDrop(t){this.isChromeAndroid()||t.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}writeValue(t){this.inputHandler.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U,8),e.Y36(e.SBq),e.Y36(e.aQg))},n.\u0275dir=e.lG2({type:n,selectors:[["","currencyMask",""]],hostBindings:function(t,a){1&t&&e.NdJ("blur",function(r){return a.handleBlur(r)})("cut",function(r){return a.handleCut(r)})("input",function(r){return a.handleInput(r)})("keydown",function(r){return a.handleKeydown(r)})("keypress",function(r){return a.handleKeypress(r)})("paste",function(r){return a.handlePaste(r)})("drop",function(r){return a.handleDrop(r)})},inputs:{options:"options"},features:[e._Bn([ve])]}),n})(),_e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:U,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[w.ez,u.u5]]}),n})();const O={align:"right",allowNegative:!0,allowZero:!0,decimal:",",precision:2,prefix:" ",suffix:" TRY",thousands:".",nullable:!0,min:null,max:null,inputMode:C.FINANCIAL};let ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[w.ez,pe.m,de,_e.forRoot(O)]]}),n})()}}]);