"use strict";(self.webpackChunkcost_calculator=self.webpackChunkcost_calculator||[]).push([[112],{5112:(N,p,a)=>{a.r(p),a.d(p,{ProductModule:()=>J});var c=a(8583),P=a(9411),g=a(5987),o=a(3679),O=a(2789),t=a(7716),Z=a(9765);let h=(()=>{class n{constructor(){this.subject=new Z.xQ}addMaterialToProduct(e){this.subject.next(e)}accessProductMaterials(){return this.subject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=a(3738),v=a(3494),s=a(8295),C=a(9983),u=a(3220),M=a(1295),_=a(3131),A=a(2579),f=a(4929),b=a(1554),T=a(1095),y=a(1552),F=a(2458);function q(n,l){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}let x=(()=>{class n{constructor(e,i,r,d){this.firebaseService=e,this.fb=i,this.utility=r,this.materialService=d,this.myControl=new o.NI,this.options=["One","Two","Three"]}ngOnInit(){this.reactiveForm(),this.getItems(),this.filteredOptions=this.myControl.valueChanges.pipe((0,M.O4)(""),(0,M.UI)(e=>this._filter(e)))}_filter(e){const i=String(e).toLowerCase();return this.materialArr.filter(r=>r.name.toUpperCase().startsWith(i))}onSelectionChanged(e){this.selectedMaterial=e.option.value,console.log("@@"+this.selectedMaterial.name+this.selectedMaterial.price),this.productMatForm.patchValue({unitprice:this.selectedMaterial.price})}displayFn(e){return e?e.name:void 0}getItems(){this.firebaseService.getMaterialsObservable(),this.materials$=this.firebaseService.materials$,this.materials$.subscribe(e=>{this.materialArr=e})}reactiveForm(){this.productMatForm=this.fb.group({name:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(50)]],unitprice:["",o.kI.required],total:["",o.kI.required],remarks:["",o.kI.required],unit:["",o.kI.required],quantity:["",o.kI.required]}),this.productMatForm.controls.unitprice.disable(),this.productMatForm.controls.total.disable()}onSearchChange(e){console.log("search:"+e),console.log("Number(this.selectedMaterial.price):"+Number(this.utility.replaceCommaToDot(this.selectedMaterial.price)));let i=Number(this.utility.replaceCommaToDot(this.selectedMaterial.price))*e;this.productMatForm.patchValue({total:i})}submitForm(){this.currentitem={quantity:this.productMatForm.get("quantity").value,remarks:this.productMatForm.get("remarks").value,unit:this.productMatForm.get("unit").value,materialid:this.selectedMaterial.id,total:this.productMatForm.get("total").value,unitprice:this.selectedMaterial.price,materialname:this.selectedMaterial.name},this.materialService.addMaterialToProduct(this.currentitem),this.productMatForm.reset(),this.productMatForm.markAsPristine(),this.productMatForm.markAsUntouched(),this.myControl.setValue("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.D),t.Y36(o.qu),t.Y36(A.t),t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-material"]],decls:41,vars:7,consts:[[1,"cover"],[1,"example-form",3,"formGroup","ngSubmit"],["cols","5","rowHeight","3:1"],["colspan","2","rowspan","1"],["appearance","outline",2,"width","-webkit-fill-available"],["type","text","placeholder","Malzeme ad\u0131 giriniz","aria-label","Text","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["matInput","","disabled","true","formControlName","unitprice"],["matInput","","formControlName","quantity","type","number",3,"input"],["matInput","","formControlName","total"],["colspan","2",2,"width","-webkit-fill-available"],["cols","2","matInput","","formControlName","remarks"],["matInput","","formControlName","unit"],["colspan","2"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon",3,"click"],[3,"value"]],template:function(e,i){if(1&e&&(t._UZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return i.productMatForm.valid&&i.submitForm()}),t.TgZ(2,"mat-grid-list",2),t.TgZ(3,"mat-grid-tile",3),t.TgZ(4,"mat-form-field",4),t.TgZ(5,"mat-label"),t._uU(6,"Malzeme ad\u0131"),t.qZA(),t._UZ(7,"input",5),t.TgZ(8,"mat-autocomplete",6,7),t.NdJ("optionSelected",function(d){return i.onSelectionChanged(d)}),t.YNc(10,q,2,2,"mat-option",8),t.ALo(11,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"mat-grid-tile"),t.TgZ(13,"mat-form-field",9),t.TgZ(14,"mat-label"),t._uU(15,"Birim Fiyat"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.qZA(),t.TgZ(17,"mat-grid-tile"),t.TgZ(18,"mat-form-field",9),t.TgZ(19,"mat-label"),t._uU(20,"Kullan\u0131m Miktar\u0131"),t.qZA(),t.TgZ(21,"input",11),t.NdJ("input",function(d){return i.onSearchChange(d.target.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"mat-grid-tile"),t.TgZ(23,"mat-form-field",9),t.TgZ(24,"mat-label"),t._uU(25,"Toplam"),t.qZA(),t._UZ(26,"input",12),t.qZA(),t.qZA(),t.TgZ(27,"mat-grid-tile",13),t.TgZ(28,"mat-form-field",4),t.TgZ(29,"mat-label"),t._uU(30,"A\xe7\u0131klama"),t.qZA(),t._UZ(31,"textarea",14),t.qZA(),t.qZA(),t.TgZ(32,"mat-grid-tile"),t.TgZ(33,"mat-form-field",9),t.TgZ(34,"mat-label"),t._uU(35,"Birim"),t.qZA(),t._UZ(36,"input",15),t.qZA(),t.qZA(),t.TgZ(37,"mat-grid-tile",16),t.TgZ(38,"button",17),t.NdJ("click",function(){return i.submitForm()}),t.TgZ(39,"mat-icon"),t._uU(40,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const r=t.MAs(9);t.xp6(1),t.Q6J("formGroup",i.productMatForm),t.xp6(6),t.Q6J("formControl",i.myControl)("matAutocomplete",r),t.xp6(1),t.Q6J("displayWith",i.displayFn.bind(i)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(11,5,i.filteredOptions))}},directives:[o._Y,o.JL,o.sg,f.Il,f.DX,s.KE,s.hX,C.Nt,o.Fj,b.ZL,o.JJ,o.oH,b.XC,c.sg,o.u,o.wV,T.lW,y.Hw,F.ey],pipes:[c.Ov],styles:[".cover[_ngcontent-%COMP%]{background:#00416A;background:linear-gradient(to right,#E4E5E6,#00416A);color:#000;margin-top:10px;font-size:large}mat-grid-tile[_ngcontent-%COMP%]{background:#FFF;color:#000;font-size:16px}"]}),n})();function w(n,l){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"th",16),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA(),t.TgZ(5,"td",18),t._uU(6),t.qZA(),t.TgZ(7,"td",17),t._uU(8),t.qZA(),t.TgZ(9,"td",19),t._uU(10),t.qZA(),t.TgZ(11,"td",20),t._uU(12),t.qZA(),t.qZA()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.materialname),t.xp6(2),t.Oqu(e.unit),t.xp6(2),t.Oqu(e.unitprice),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.total)}}function U(n,l){if(1&n&&(t.TgZ(0,"div",10),t.TgZ(1,"table",11),t.TgZ(2,"caption"),t._uU(3,"\xdcr\xfcne ait malzemeler"),t.qZA(),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th",12),t._uU(7,"Malzeme Ad\u0131"),t.qZA(),t.TgZ(8,"th",12),t._uU(9,"Birim"),t.qZA(),t.TgZ(10,"th",12),t._uU(11,"Birim Fiyat"),t.qZA(),t.TgZ(12,"th",12),t._uU(13,"Miktar\u0131"),t.qZA(),t.TgZ(14,"th",12),t._uU(15,"A\xe7\u0131klama"),t.qZA(),t.TgZ(16,"th",12),t._uU(17,"Toplam"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tfoot"),t.TgZ(19,"tr"),t._UZ(20,"td",13),t.TgZ(21,"td",14),t._uU(22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"tbody"),t.YNc(24,w,13,6,"tr",15),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(22),t.hij("Toplam Tutar: ",e.sum," "),t.xp6(2),t.Q6J("ngForOf",e.materialArr)}}let S=(()=>{class n{constructor(e,i){this.fb=e,this.materialService=i,this.step=0,this.sum=0,this.dataSource=new O.by,this.materialArr=[],this.displayedColumns=["materialname","total"],this.materialService.accessProductMaterials().subscribe(r=>{r&&(this.materialArr.push(r),this.sum+=r.total)})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}ngOnInit(){this.reactiveForm()}submitForm(){}cancel(){}getTotalCost(){return this.materialArr?this.materialArr.map(e=>e.total).reduce((e,i)=>e+i,0):0}reactiveForm(){this.productForm=this.fb.group({name:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(50)]],code:["",o.kI.required],operationdate:[Date,o.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.qu),t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-operation"]],decls:24,vars:13,consts:[["fxfill","row","fxlayout","column",2,"height","100%","min-height","100%","min-width","100%","width","100%","flex-direction","column","box-sizing","border-box","display","flex"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[3,"formControl","label","error","minlength","maxlength"],[3,"formControl","label","error","maxlength"],["appearance","outline"],["formControlName","operationdate","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","container",4,"ngIf"],[1,"container"],[1,"responsive-table"],["scope","col"],["colspan","5"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["scope","row"],["data-title","Released"],["data-title","Studio"],["data-title","Domestic Gross","data-type","currency"],["data-title","International Gross","data-type","currency"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return i.productForm.valid&&i.submitForm()}),t.TgZ(2,"mat-card"),t.TgZ(3,"mat-card-header"),t.TgZ(4,"mat-card-title"),t._uU(5," \xdcr\xfcn Tan\u0131mlama "),t.qZA(),t.qZA(),t.TgZ(6,"mat-card-content"),t.TgZ(7,"div",2),t.TgZ(8,"div"),t._UZ(9,"app-text-input",3),t.qZA(),t.qZA(),t.TgZ(10,"div",2),t.TgZ(11,"div"),t._UZ(12,"app-text-input",4),t.qZA(),t.qZA(),t.TgZ(13,"div",2),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Kay\u0131t Tarihi"),t.qZA(),t._UZ(17,"input",6),t._UZ(18,"mat-datepicker-toggle",7),t._UZ(19,"mat-datepicker",null,8),t.qZA(),t.qZA(),t.qZA(),t._UZ(21,"mat-card-actions"),t.qZA(),t.qZA(),t._UZ(22,"app-product-material"),t.YNc(23,U,25,2,"div",9),t.qZA()),2&e){const r=t.MAs(20);t.xp6(1),t.Q6J("formGroup",i.productForm),t.xp6(8),t.Q6J("formControl",i.productForm.controls.name)("label","\xfcr\xfcn ad\u0131")("error","L\xfctfen \xfcr\xfcn ad\u0131 giriniz")("minlength","3")("maxlength","40"),t.xp6(3),t.Q6J("formControl",i.productForm.controls.code)("label","\xfcr\xfcn kodu")("error","L\xfctfen \xfcr\xfcn kodunu giriniz")("maxlength","40"),t.xp6(5),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",i.materialArr.length>0)}},directives:[o._Y,o.JL,o.sg,m.a8,m.dk,m.n5,m.dn,v.t,o.JJ,o.oH,o.wO,o.nD,s.KE,s.hX,o.Fj,C.Nt,u.hl,o.u,u.nW,s.R9,u.Mq,m.hq,x,c.O5,c.sg],styles:['html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}body[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;color:#000000de}a[_ngcontent-%COMP%]{color:#26890d}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#046a38}.container[_ngcontent-%COMP%]{margin:5% 3%}@media (min-width: 48em){.container[_ngcontent-%COMP%]{margin:2%}}@media (min-width: 75em){.container[_ngcontent-%COMP%]{max-width:125rem}}.responsive-table[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5em;border-spacing:0}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]{font-size:.9em}}@media (min-width: 62em){.responsive-table[_ngcontent-%COMP%]{font-size:1em}}.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:absolute;clip:rect(1px 1px 1px 1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:relative;clip:auto;height:auto;width:auto;overflow:auto}}.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f87a6;border:2px solid rgb(200,200,200);font-weight:normal;text-align:center;color:#fff}.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type{text-align:left}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:0;text-align:left;white-space:normal}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row}}.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em;vertical-align:middle}@media (min-width: 30em){.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75em .5em}}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.5em}}@media (min-width: 62em){.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75em .5em}}@media (min-width: 75em){.responsive-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75em}}.responsive-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{margin-bottom:1em;font-size:1em;font-weight:bold;text-align:center}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.5em}}.responsive-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-size:.8em;font-style:italic}@media (min-width: 62em){.responsive-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{font-size:.9em}}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:table-row-group}}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:1em}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table-row;border-width:1px}}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(even){background-color:#0000001f}}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[scope=row][_ngcontent-%COMP%]{background-color:#26890d;color:#fff}@media (min-width: 30em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[scope=row][_ngcontent-%COMP%]{border-left:1px solid #86bc25;border-bottom:1px solid #86bc25}}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[scope=row][_ngcontent-%COMP%]{background-color:transparent;color:#000001;text-align:left}}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #86bc25;border-bottom:1px solid #86bc25;text-align:center}}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-of-type{border-right:1px solid #86bc25}}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[data-type=currency][_ngcontent-%COMP%]{text-align:right}.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[data-title][_ngcontent-%COMP%]:before{content:attr(data-title);float:left;font-size:.8em;color:#0000008a}@media (min-width: 30em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[data-title][_ngcontent-%COMP%]:before{font-size:.9em}}@media (min-width: 48em){.responsive-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[data-title][_ngcontent-%COMP%]:before{content:none}}.responsive-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#3f87a6;color:#fff;font-size:16px}']}),n})();const I=[{path:"",component:a(8369).$,children:[{path:"",component:S}]}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,[g.Bz.forChild(I)]],g.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,P.m,z]]}),n})()}}]);