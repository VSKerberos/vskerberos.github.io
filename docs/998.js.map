{"version":3,"file":"998.js","mappings":"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","sources":["./src/app/pages/category/action-types.ts","./src/app/pages/category/category-routing.module.ts","./src/app/pages/category/category.component.ts","./src/app/pages/category/category.component.html","./src/app/pages/category/category.effects.ts","./src/app/pages/category/category.module.ts","./src/app/pages/category/reducers/category-reducers.ts"],"sourcesContent":["\r\n\r\nimport * as CategoryActions from './category.actions';\r\n\r\nexport {CategoryActions};","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LayoutComponent} from '../../shared/layout/layout/layout.component';\nimport {CategoryComponent} from './category.component';\nimport { CategoriesResolver } from './category.resolver';\n\nconst routes: Routes = [{\n  path:'',\n  component:LayoutComponent,\n  children:[\n    {path:'', component:CategoryComponent\n\n     }\n  ]\n\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [CategoriesResolver]\n})\nexport class CategoryRoutingModule { }\n","import { UtilityService } from 'src/app/core/services/utility.service';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { selectAllCategories } from './category.selector';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { select, Store } from '@ngrx/store';\nimport { Observable, of, pipe } from 'rxjs';\nimport { filter, map, max, mergeMap, scan, tap } from 'rxjs/internal/operators';\nimport { ICategory } from 'src/app/core/core/models/category';\nimport { FireBaseService } from 'src/app/core/services/fire-base.service';\nimport { AppState } from 'src/app/reducers';\nimport { ConfirmDialogComponent } from 'src/app/shared/components/confirm-dialog/confirm-dialog.component';\nimport { MatTable } from '@angular/material/table';\nimport { SpinnerService } from 'src/app/core/spinner.service';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.component.html',\n  styleUrls: ['./category.component.css']\n})\nexport class CategoryComponent implements OnInit {\n  categoryForm: FormGroup;\n   categories$:Observable<ICategory[]>;\n   categoryArr:ICategory[];\n   localCategory:ICategory ;\n   updatedRecord:ICategory;\n   displayedColumns: string[] = ['position', 'name','demo-actions'];\n   mode: 'create' | 'update';\n   localstorageMode:'create' | 'update' | 'delete';\n  dataSource;\n  result;\n  categorySaveMessage:string ='Kategori Başarılı bir şeklide eklenmiştir.';\n  categoryDeleteMessage:string ='Kategori Başarılı bir şeklide silinmiştir.'\n  categoryUpdateMessage:string ='Kategori Başarılı bir şeklide güncellenmiştir.'\n  deletedRecordId:string;\n  @ViewChild(MatTable) table: MatTable<any>;\n  constructor(    private firebaseService: FireBaseService,\n                public fb: FormBuilder,\n                private dialog: MatDialog,\n                private store: Store<AppState>,\n                private firestore: AngularFirestore,\n                private spinnerService: SpinnerService,\n                private utilService:UtilityService) {\n    this.reactiveForm();\n  }\n\n  ngOnInit(): void {\n    this.mode ='create';\n    this.getItems();\n  }\n\n  getItems(){\n if(!this.firebaseService.IsCategoriesInLocalStorage())\n{\n  this.firebaseService.getCategories();\n} \n    \n      this.categories$ = this.firebaseService.categories$;\n      this.categories$ = this.categories$.pipe(map((data) => {\n      data.sort(this.sortByTitle)\n      return data;\n      }));\n      \n    this.dataSource = this.categories$;\n    this.mode ='create';\n  }\n\n  reactiveForm() {\n    this.categoryForm = this.fb.group({\n      title: ['',[Validators.required,Validators.minLength(3),Validators.maxLength(50)]]\n    })\n  }\n\n  submitForm(){\n    this.spinnerService.display(true);\n    \nif(this.mode == 'create'){\n  this.localCategory =  {\n    categoryid : this.getMaxCategoryId(),\n    title : this.categoryForm.controls['title'].value,remarks:''\n  };\n  \n    this.firestore.collection('category').add(this.localCategory).then(response =>{\n      console.log(\"add item console:\"+ response.id);\n      this.localCategory.id = response.id;\n      /////\n      this.spinnerService.sendClickEvent(this.categorySaveMessage);\n      this.localStorageOperation('create',this.localCategory);\n      this.generalOperationAfterCrud();\n    }).catch(error=>{\n      console.log(\"add item error:\"+error)\n    });\n\n\n} else{\n  this.localCategory =  {\n    categoryid : this.updatedRecord.categoryid,\n    title : this.categoryForm.controls['title'].value,remarks:''\n\n  };\nthis.firebaseService.updateCategory(this.localCategory,this.updatedRecord.id).then(response=>{\nthis.localCategory.id = this.updatedRecord.id;\nthis.spinnerService.sendClickEvent(this.categoryUpdateMessage);\nthis.localStorageOperation('update',this.localCategory);\n  this.generalOperationAfterCrud();\n}).catch(\n  (error)=>{\n    console.log(error);\n  }\n);\n}\n\nthis.spinnerService.display(false);\n  }\n\n  cancel() {\n    this.categoryForm.reset();\n    this.categoryForm.markAsPristine();\n    this.categoryForm.markAsUntouched();\n    this.localCategory = null;\n    this.mode ='create';\n    this.updatedRecord=null;\n  }\n\n\n  getMaxCategoryId():number{\n    this.categories$.subscribe((categories)=> {\n      this.categoryArr = categories as ICategory[]\n  });\n  return Math.max.apply(Math, this.categoryArr.map(function(o) { return o.categoryid; })) +1;\n  }\n\n  deleteRecord(id: any){\n    console.log('Deleted recor is: '+ id);\n    this.deletedRecordId = id;\n    \n    const confirmDialog = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title:'Category Silme Doğrulama',\n        message:'Silmek istediğinizden emin misiniz?'\n      }\n    });\n\n    confirmDialog.afterClosed().subscribe(result =>{\n      if(result === true)\n      {\n        this.localCategory = {\n          id : id,\n          remarks:'',\n          categoryid:999,\n          title:''\n        };\n\n      this.localStorageOperation('delete',this.localCategory);\n      this.firebaseService.deleteCategorie(id);\n      this.mode ='create';   \n     // this.generalOperationAfterCrud();\n     this.removeItemFromObservable(this.deletedRecordId);\n      this.spinnerService.sendClickEvent(this.categoryDeleteMessage);\n      this.dataSource = this.categories$;\n      this.localCategory = null;\n      this.table.renderRows();\n      }\n    })\n  }\n\n  removeItemFromObservable(id) {\n    this.categories$ = this.categories$.pipe(map(data => {\n      return data.filter(item => item.id != id)\n    }))\n  }\n\n  updateRecord(element:ICategory){\n    this.mode ='update';\n    this.categoryForm.patchValue({title: element.title});\n    this.updatedRecord = element;\n  }\n\n  sortByTitle(a,b){\n    if (b.title > a.title) return -1;\n      if (b.title < a.title) return 1;\n      return 0;\n  }\n\n  generalOperationAfterCrud(){\n    this.categoryForm.reset();\n    this.categoryForm.markAsPristine();\n    this.categoryForm.markAsUntouched();\n   \n    this.mode ='create';\n    this.updatedRecord=null;\n\n    this.categories$.subscribe(\n      userlist => {\n        userlist.push(this.localCategory)\n      }\n    );\n    this.dataSource = this.categories$;\n    this.localCategory = null;\n    this.table.renderRows();\n    \n  }\n\n  localStorageOperation(expr:string,item:ICategory)\n  {\n   let localItems = JSON.parse(localStorage.getItem('categories')) as ICategory[];\n\n    switch (expr) {\n      case 'update':\n      \n      localItems.find(x=>x.id == item.id).title = item.title;\n\n      let objIndex = localItems.findIndex((obj => obj.id == item.id));\n\n\n      localItems[objIndex].title = item.title;\n\n        break;\n      case 'delete':\n        item= localItems.find(x=>x.id == item.id);\n        let index= localItems.findIndex(x=> x == item);\n        localItems.splice(index,1);\n      break;\n      case 'create':\n        \n      localItems.push(item);\n        break;\n      default:\n        console.log(`Sorry, we are out of ${expr}.`);\n    }\n    this.utilService.removeItemFromLocalStorage();\n    localStorage.setItem('categories', JSON.stringify(localItems));\n    \n    \n  }\n\n\n}\n","<div class=\"container\">\n\n    <div class=\"mat-display-3 special-header\" fxLayoutAlign=\"center center\">\n        Kategori Tanımlama\n    </div>\n\n    <mat-dialog-content>\n        <div class=\"container\" fxLayout=\"row\" fxLayoutAlign=\"center none\">\n            <div fxFlex=\"95%\">\n                <form [formGroup]=\"categoryForm\" (ngSubmit)=\" categoryForm.valid && submitForm()\" autocomplete=\"off\">\n                    <mat-card>\n                        <mat-card-header>\n                            <mat-card-title>\n                                <h2 mat-dialog-title> </h2>\n                            </mat-card-title>\n                        </mat-card-header>\n                        <mat-card-content>\n                            <div class=\"row\">\n                                <div>\n                                    <app-text-input [formControl]='categoryForm.controls[\"title\"]' [label]='\"Kategori adı\"' [error]=\"'Lütfen kategori adı giriniz'\" [minlength]='\"3\"' [maxlength]='\"40\"'></app-text-input>\n                                </div>\n                            </div>\n\n\n\n                        </mat-card-content>\n                        <mat-card-actions>\n                            <button color=\"primary\" [disabled]='!categoryForm.valid' mat-raised-button>\n                            Kaydet \n                        </button>\n\n                            <button color=\"secondary\" (click)=\"cancel()\" mat-raised-button>\n                            Temizle\n                        </button>\n\n\n\n                        </mat-card-actions>\n\n                    </mat-card>\n\n\n\n\n\n\n\n                </form>\n            </div>\n\n        </div>\n\n    </mat-dialog-content>\n\n\n</div>\n\n\n<table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n\n    <!--- Note that these columns can be defined in any order.\n          The actual rendered columns are set as a property on the row definition\" -->\n\n    <!-- Position Column -->\n    <ng-container matColumnDef=\"position\">\n        <th mat-header-cell *matHeaderCellDef> Kategori Kodu </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.categoryid}} </td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef> Kategori Adı </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.title}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"demo-actions\">\n        <th mat-header-cell *matHeaderCellDef> İşlem Bölümü</th>\n        <md-cell *matCellDef=\"let element\">\n\n            <button mat-icon-button color=\"primary\" matTooltip=\"Güncelle\" matTooltipPosition=\"right\" (click)=\"updateRecord(element)\" aria-label=\"Example icon button with a home icon\">\n                <mat-icon>edit</mat-icon>\n            </button>\n\n            <button mat-icon-button color=\"warn\" matTooltip=\"Sil\" matTooltipPosition=\"right\" (click)=\"deleteRecord(element.id)\" aria-label=\"Example icon button with a home icon\">\n                <mat-icon>delete_outline</mat-icon>\n            </button>\n\n\n\n        </md-cell>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>","\r\nimport { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { concatMap, map } from 'rxjs/operators';\r\nimport { FireBaseService } from 'src/app/core/services/fire-base.service';\r\nimport {CategoryActions} from './action-types';\r\nimport { allCategoriesLoaded } from './category.actions';\r\n\r\n\r\n@Injectable()\r\nexport class CategoryEffects {\r\n\r\n    loadCategories$ = createEffect(\r\n        ()=> this.actions$.pipe(\r\n            ofType(CategoryActions.loadAllCategories),\r\n            concatMap(action => \r\n                this.service.getCategories()),\r\n                map(categories => allCategoriesLoaded({categories}))\r\n        )\r\n    );\r\n    constructor(private actions$: Actions,private service: FireBaseService) {\r\n\r\n\r\n    }\r\n}","import { StoreModule } from '@ngrx/store';\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '../../shared/shared.module';\nimport {CategoryComponent} from './category.component';\nimport {CategoryRoutingModule} from './category-routing.module';\nimport { EffectsModule } from '@ngrx/effects';\nimport {CategoryEffects} from './category.effects';\nimport { EntityDefinitionService, EntityMetadataMap } from '@ngrx/data';\nimport { CategoriesResolver } from './category.resolver';\nimport {categoriesReducer} from './reducers/category-reducers';\n\n\nconst entityMetaData: EntityMetadataMap = {\n  Category: {\n    \n  }\n\n};\n\n@NgModule({\n  declarations: [\n    CategoryComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    CategoryRoutingModule,\n    EffectsModule.forFeature([CategoryEffects]),\n    StoreModule.forFeature(\"categories\",categoriesReducer)\n    ],\n    providers: [ CategoriesResolver]\n})\nexport class CategoryModule {\n\n  constructor(private eds: EntityDefinitionService){\n\n    eds.registerMetadataMap(entityMetaData);\n  }\n }\n","import { ICategory } from './../../../core/core/models/category';\r\nimport {EntityState, createEntityAdapter} from '@ngrx/entity'\r\nimport { createReducer, on } from '@ngrx/store'\r\nimport {CategoryActions} from '../action-types';\r\n\r\nexport interface CategoryState extends EntityState<ICategory> {\r\n    \r\n}\r\n\r\n\r\n\r\nexport const adapter = createEntityAdapter<ICategory>();\r\n\r\n\r\nexport const initialCategoryState = adapter.getInitialState();\r\n\r\n\r\nexport const categoriesReducer = createReducer(\r\n\r\n    initialCategoryState,\r\n\r\n    on(CategoryActions.allCategoriesLoaded, (state,action) => adapter.setAll(action.categories,state))\r\n\r\n);\r\n\r\n\r\nexport const {selectAll} =  adapter.getSelectors();\r\n"],"names":["CategoryActions","RouterModule","LayoutComponent","CategoryComponent","CategoriesResolver","routes","path","component","children","CategoryRoutingModule","imports","forChild","exports","Validators","map","ConfirmDialogComponent","MatTable","i0","ctx_r11","ctx_r13","constructor","firebaseService","fb","dialog","store","firestore","spinnerService","utilService","reactiveForm","ngOnInit","mode","getItems","IsCategoriesInLocalStorage","getCategories","categories$","pipe","data","sort","sortByTitle","dataSource","categoryForm","group","title","required","minLength","maxLength","submitForm","display","localCategory","categoryid","getMaxCategoryId","controls","value","remarks","collection","add","then","response","console","log","id","sendClickEvent","categorySaveMessage","localStorageOperation","generalOperationAfterCrud","catch","error","updatedRecord","updateCategory","categoryUpdateMessage","cancel","reset","markAsPristine","markAsUntouched","subscribe","categories","categoryArr","Math","max","apply","o","deleteRecord","deletedRecordId","confirmDialog","open","message","afterClosed","result","deleteCategorie","removeItemFromObservable","categoryDeleteMessage","table","renderRows","filter","item","updateRecord","element","patchValue","a","b","userlist","push","expr","localItems","JSON","parse","localStorage","getItem","find","x","objIndex","findIndex","obj","index","splice","removeItemFromLocalStorage","setItem","stringify","selectors","viewQuery","ctx","createEffect","ofType","concatMap","allCategoriesLoaded","CategoryEffects","actions$","service","loadAllCategories","action","factory","StoreModule","CommonModule","SharedModule","EffectsModule","categoriesReducer","entityMetaData","Category","CategoryModule","eds","registerMetadataMap","forFeature","declarations","i2","i3","createEntityAdapter","createReducer","on","adapter","initialCategoryState","getInitialState","state","setAll","selectAll","getSelectors"],"sourceRoot":"webpack:///"}